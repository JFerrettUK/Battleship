(()=>{"use strict";function e(e,t,a){let s;s="user"==a?document.getElementById(e+"-"+t+"-userBoard"):document.getElementById(e+"-"+t+"-aiBoard"),(s.classList.contains("blue")||s.classList.contains("cyan"))&&(s.classList.remove("blue"),s.classList.remove("cyan")),s.classList.contains("grey")&&s.classList.remove("grey"),"user"==a?s.classList.add("shipSquare"):s.classList.add("aiShipSquare")}const t=function(){let t=function(t,a,s,i){!function(t,a,s,i){if(a>9||s>9)return"offBoard";if("vertical"==i){for(let e=s;e<t+s;e++){if(e>9)return"offBoard";if(document.getElementById(a+"-"+e+"-userBoard").classList.contains("shipSquare"))return"occupiedSquare"}for(let i=s;i<t+s;i++)e(a,i,"user")}else{for(let e=a;e<t+a;e++){if(e>9)return"offBoard";if(document.getElementById(e+"-"+s+"-userBoard").classList.contains("shipSquare"))return"occupiedSquare"}for(let i=a;i<t+a;i++)e(i,s,"user")}}(t,a,s,i)},a=function(t,a,s,i){!function(t,a,s,i){if(a>9||s>9)return"offBoard";if("vertical"==i){for(let e=s;e<t+s;e++){if(e>9)return"offBoard";if(document.getElementById(a+"-"+e+"-aiBoard").classList.contains("aiShipSquare"))return"occupiedSquare"}for(let i=s;i<t+s;i++)e(a,i,"ai")}else{for(let e=a;e<t+a;e++){if(e>9)return"offBoard";if(document.getElementById(e+"-"+s+"-aiBoard").classList.contains("aiShipSquare"))return"occupiedSquare"}for(let i=a;i<t+a;i++)e(i,s,"ai")}}(t,a,s,i)};return{aiAttackDOM:function(e,t){!function(e,t){let a=document.getElementById(`${e}-${t}-userBoard`);a&&(a.classList.contains("shipSquare")?a.classList.add("hitShip"):a.classList.add("missed"),a.classList.add("flash"),setTimeout((()=>{a.classList.remove("flash")}),500))}(e,t)},changeNameDOM:function(e,t){return function(e,t){return t.innerText=e,t}(e,t)},aiBoardDOM:function(e){!function(e){function t(t,a){for(let a=0;a<10;a++){const s=document.createElement("div");s.classList.add("battleSquare"),s.classList.add("aiSquare"),s.classList.add("grey"),s.classList.contains("aiShipSquare")&&s.classList.remove("aiShipSquare"),s.id=`${t}-${a}-${e}`,document.getElementById(e).appendChild(s)}}!function(){for(let e=0;e<10;e++)t(e)}()}(e)},playerBoardDOM:function(e){!function(e){function t(t,a){for(let s=0;s<10;s++){const i=document.createElement("div");i.classList.add("battleSquare"),i.classList.add("userSquare"),"blue"==a?s%2==0?i.classList.add("blue"):i.classList.add("cyan"):s%2==0?i.classList.add("cyan"):i.classList.add("blue"),i.classList.contains("shipSquare")&&i.classList.remove("shipSquare"),i.id=`${t}-${s}-${e}`,document.getElementById(e).appendChild(i)}}!function(){for(let e=0;e<10;e++)t(e,"blue"),e++,t(e,"cyan")}()}(e)},explosionClickDOM:function(){document.querySelectorAll(".battleSquare").forEach((e=>{e.addEventListener("click",(()=>{e.classList.add("boom"),setTimeout((()=>{e.classList.remove("boom")}),500)}))}))},placeTempDOMShips:function(){a(2,2,1,"vertical"),a(3,4,4,"horizontal"),a(4,6,1,"horizontal"),a(5,4,5,"vertical"),t(2,2,1,"vertical"),t(3,4,3,"horizontal"),t(4,6,1,"horizontal"),t(5,4,5,"vertical")},placeAIShipDOM:a,placePlayerShipDOM:t,squareHMDOM:function(e,t){!function(e,t){"missed"==t?e.classList.add("missed"):"hitShip"==t&&e.classList.add("hitShip")}(e,t)},userClickDOM:function(){document.querySelectorAll(".aiSquare").forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("aiShipSquare")?e.classList.add("hitShip"):(e.classList.add("missed"),parseInt(e.dataset.row)%2==0&&parseInt(e.dataset.column)%2==0||parseInt(e.dataset.row)%2!=0&&parseInt(e.dataset.column)%2!=0?e.classList.add("blue"):e.classList.add("cyan")),e.classList.add("flash"),setTimeout((()=>{e.classList.remove("flash")}),500)}))}))}}}();t.playerBoardDOM("userBoard"),t.aiBoardDOM("aiBoard"),t.userClickDOM(),t.placeTempDOMShips(),t.aiAttackDOM(2,1),t.aiAttackDOM(1,1)})();